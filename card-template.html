<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Card</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: ui-sans-serif, system-ui, sans-serif;
            background: transparent;
            width: 1000px;
            height: 1000px;
            overflow: hidden;
        }
        
        /* Tailwind CSS utilities */
        .relative { position: relative; }
        .absolute { position: absolute; }
        .inset-0 { inset: 0; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .h-12 { height: 3rem; }
        .w-auto { width: auto; }
        .max-w-sm { max-width: 24rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .p-0 { padding: 0; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
        .py-0\.5 { padding-top: 0.125rem; padding-bottom: 0.125rem; }
        .pt-2 { padding-top: 0.5rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mr-1 { margin-right: 0.25rem; }
        .text-center { text-align: center; }
        .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
        .text-xs { font-size: 0.75rem; line-height: 1rem; }
        .font-medium { font-weight: 500; }
        .font-bold { font-weight: 700; }
        .tracking-widest { letter-spacing: 0.1em; }
        .text-white { color: #ffffff; }
        .text-slate-200 { color: #e2e8f0; }
        .text-orange-400 { color: #fb923c; }
        .text-orange-400\/60 { color: rgba(251, 146, 60, 0.6); }
        .text-orange-500 { color: #f97316; }
        .rounded-md { border-radius: 0.375rem; }
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-xl { border-radius: 0.75rem; }
        .border { border-width: 1px; }
        .border-2 { border-width: 2px; }
        .border-0 { border-width: 0; }
        .border-t { border-top-width: 1px; }
        .border-orange-500\/20 { border-color: rgba(234, 88, 12, 0.2); }
        .border-orange-500\/30 { border-color: rgba(234, 88, 12, 0.3); }
        .bg-slate-800\/50 { background-color: rgba(30, 41, 59, 0.5); }
        .bg-slate-900\/20 { background-color: rgba(15, 23, 42, 0.2); }
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-orange-600 { --tw-gradient-from: #ea580c; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(234, 88, 12, 0)); }
        .to-amber-600 { --tw-gradient-to: #f59e0b; }
        .from-black\/50 { background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.75)); }
        .via-black\/60 { }
        .to-black\/75 { }
        .bg-\[radial-gradient\(circle_at_50\%_120\%\,rgba\(234\,88\,12\,0\.15\)\,rgba\(0\,0\,0\,0\)\)\] {
            background-image: radial-gradient(circle at 50% 120%, rgba(234, 88, 12, 0.15), rgba(0, 0, 0, 0));
        }
        .object-cover { object-fit: cover; }
        .overflow-hidden { overflow: hidden; }
        .shrink-0 { flex-shrink: 0; }
        .flex-1 { flex: 1 1 0%; }
        .min-w-0 { min-width: 0; }
        .backdrop-blur-sm { backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1); }
        .shadow-orange-500\/20 { box-shadow: 0 10px 15px -3px rgba(234, 88, 12, 0.2), 0 4px 6px -4px rgba(234, 88, 12, 0.2); }
        .space-y-2\.5 > * + * { margin-top: 0.625rem; }
        
        .card-container {
            width: 1000px;
            height: 1000px;
            position: relative;
            overflow: hidden;
            border-radius: 0.75rem;
            border: 2px solid rgba(234, 88, 12, 0.3);
        }
        
        .background-image {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .overlay-dark {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.75));
        }
        
        .overlay-orange {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 50% 120%, rgba(234, 88, 12, 0.15), rgba(0, 0, 0, 0));
        }
        
        .content-wrapper {
            position: relative;
            z-index: 10;
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        function ImageWithFallback({ src, alt, className, fallbackColor = '#0f172a' }) {
            const [imgSrc, setImgSrc] = useState(src);
            const [hasError, setHasError] = useState(false);
            
            useEffect(() => {
                setImgSrc(src);
                setHasError(false);
            }, [src]);
            
            if (hasError || !imgSrc) {
                return <div className={className} style={{ backgroundColor: fallbackColor }} />;
            }
            
            return (
                <img
                    src={imgSrc}
                    alt={alt}
                    className={className}
                    onError={() => {
                        setHasError(true);
                        setImgSrc(null);
                    }}
                />
            );
        }
        
        function Badge({ children, variant = 'default', className = '' }) {
            const baseClasses = 'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0';
            
            const variantClasses = {
                secondary: 'bg-gradient-to-r from-orange-600 to-amber-600 text-white border-0 shadow-lg shadow-orange-500/20',
                outline: 'bg-slate-800/50 backdrop-blur-sm border-orange-500/30 text-orange-400'
            };
            
            return (
                <span className={`${baseClasses} ${variantClasses[variant] || ''} ${className}`}>
                    {children}
                </span>
            );
        }
        
        function PlayerCard({ player }) {
            const formattedRankPlace = `#${String(player.rankPlace || 0).padStart(5, '0')}`;
            
            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–æ—Ç–æ –≤ data URL –∏–ª–∏ file:// URL
            const getPhotoUrl = () => {
                if (!player.photoUrl) return null;
                // –ï—Å–ª–∏ —ç—Ç–æ —É–∂–µ URL, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–∫ –µ—Å—Ç—å
                if (player.photoUrl.startsWith('http://') || player.photoUrl.startsWith('https://') || player.photoUrl.startsWith('data:')) {
                    return player.photoUrl;
                }
                // –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º file:// –ø—Ä–æ—Ç–æ–∫–æ–ª
                if (player.photoUrl.startsWith('/')) {
                    return `file://${player.photoUrl}`;
                }
                return `file://${window.location.pathname.replace(/\/[^/]*$/, '')}/${player.photoUrl}`;
            };
            
            return (
                <div className="card-container">
                    {/* Background Image */}
                    <div className="absolute inset-0">
                        <ImageWithFallback
                            src={getPhotoUrl()}
                            alt={player.name}
                            className="background-image"
                        />
                        {/* Dark overlay */}
                        <div className="overlay-dark" />
                        {/* Orange tint overlay */}
                        <div className="overlay-orange" />
                    </div>
                    
                    {/* Content */}
                    <div className="content-wrapper">
                        {/* Logo */}
                        <div className="flex justify-center mb-3">
                            <img 
                                src="PLAYER_CARD_DESIGN_LOGO_PATH" 
                                alt="GoPrime" 
                                className="h-12 w-auto"
                                onError={(e) => { e.target.style.display = 'none'; }}
                            />
                        </div>

                        {/* Rank Place */}
                        <div className="text-center mb-3">
                            <span className="text-orange-400/60 text-sm tracking-widest">{formattedRankPlace}</span>
                        </div>

                        {/* Header with Level, Name and Rank */}
                        <div className="flex justify-between items-center mb-6 gap-3">
                            <Badge variant="secondary">
                                <span style={{ marginRight: '0.25rem' }}>‚òÖ</span>
                                –£—Ä–æ–≤–µ–Ω—å {player.level}
                            </Badge>
                            <h2 className="text-center text-white flex-1 min-w-0" style={{ fontSize: '1.25rem', fontWeight: 700 }}>
                                {player.name}
                            </h2>
                            <Badge variant="outline">
                                {player.rank}
                            </Badge>
                        </div>

                        {/* Stats */}
                        <div className="space-y-2.5 bg-slate-900/20 rounded-lg p-4 border border-orange-500/20 backdrop-blur-sm">
                            <div className="flex items-center justify-between text-slate-200">
                                <div className="flex items-center gap-2">
                                    <span className="text-orange-400" style={{ fontSize: '1rem' }}>‚ö°</span>
                                    <span className="text-sm">–°–∏–ª–∞</span>
                                </div>
                                <span className="text-orange-400">{player.stats.power}</span>
                            </div>

                            <div className="flex items-center justify-between text-slate-200">
                                <div className="flex items-center gap-2">
                                    <span className="text-orange-400" style={{ fontSize: '1rem' }}>üõ°Ô∏è</span>
                                    <span className="text-sm">–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å</span>
                                </div>
                                <span className="text-orange-400">{player.stats.durability}</span>
                            </div>

                            <div className="flex items-center justify-between text-slate-200">
                                <div className="flex items-center gap-2">
                                    <span className="text-orange-400" style={{ fontSize: '1rem' }}>‚ö°</span>
                                    <span className="text-sm">–õ–æ–≤–∫–æ—Å—Ç—å</span>
                                </div>
                                <span className="text-orange-400">{player.stats.speed}</span>
                            </div>

                            <div className="flex items-center justify-between text-slate-200">
                                <div className="flex items-center gap-2">
                                    <span className="text-orange-400" style={{ fontSize: '1rem' }}>üß†</span>
                                    <span className="text-sm">–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç</span>
                                </div>
                                <span className="text-orange-400">{player.stats.intelligent}</span>
                            </div>

                            <div className="flex items-center justify-between text-slate-200">
                                <div className="flex items-center gap-2">
                                    <span className="text-orange-400" style={{ fontSize: '1rem' }}>üòä</span>
                                    <span className="text-sm">–•–∞—Ä–∏–∑–º–∞</span>
                                </div>
                                <span className="text-orange-400">{player.stats.charism}</span>
                            </div>

                            <div className="pt-2 mt-2 border-t border-orange-500/30">
                                <div className="flex items-center justify-between text-slate-200">
                                    <div className="flex items-center gap-2">
                                        <span className="text-orange-500" style={{ fontSize: '1rem' }}>üî•</span>
                                        <span className="text-sm">–°–µ—Ä–∏—è –¥–Ω–µ–π</span>
                                    </div>
                                    <span className="text-orange-400">{player.daysStreak} –¥–Ω–µ–π</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        
        // –ñ–¥–µ–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç Puppeteer
        window.renderCard = function(playerData) {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<PlayerCard player={playerData} />);
        };
        
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ window.playerData
        if (window.playerData) {
            window.renderCard(window.playerData);
        }
    </script>
</body>
</html>

